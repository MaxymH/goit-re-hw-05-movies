{"version":3,"file":"static/js/Views.005eed17.chunk.js","mappings":"sQACA,GAAgB,KAAO,sBAAsB,OAAS,yB,SCiEtD,EA9Dc,WACV,OAA8BA,EAAAA,EAAAA,UAAS,CACvCC,MAAO,GACPC,WAAW,EACXC,MAAO,OAHP,eAAOC,EAAP,KAAgBC,EAAhB,KAOOC,GAAUC,EAAAA,EAAAA,MAAVD,QAGPE,EAAAA,EAAAA,YAAU,WACV,IAAMC,EAAI,mCAAG,uGACgBC,EAAAA,EAAAA,IAAgBJ,GADhC,gBACFK,EADE,EACFA,QACPN,GAAW,SAAAO,GAAU,yBACdA,GADc,IAEjBV,WAAW,GAFM,IAIrB,IACIG,GAAW,SAAAO,GAAU,yBACdA,GADc,IAEjBX,MAAOU,EACPT,WAAW,GAHM,GAWxB,CANC,MAAOC,GACLE,GAAW,SAAAO,GAAU,yBACdA,GADc,IAEjBT,MAAOA,EAAMU,QACbX,WAAW,GAHM,GAKxB,CAlBQ,2CAAH,qDAmBVO,GACC,GAAE,CAACH,IAGJ,IAAOL,EAA2BG,EAA3BH,MAAOC,EAAoBE,EAApBF,UAAWC,EAASC,EAATD,MAGnBW,EAAWb,EAAMc,OAEnBd,EAAMe,KAAI,SAAAC,GACd,OAAO,gBAAIC,UAAWC,EAAAA,KAAf,WACK,cAAGD,UAAWC,EAAAA,QAAd,SAA0BF,EAAKG,WAC/B,gBAAIF,UAAWC,EAAAA,OAAf,qBAAkCF,EAAKI,YAFhBJ,EAAKK,GAIvC,KANG,yBAAI,wCASR,OACI,gCACCnB,IAAS,uBAAIA,IACbD,IAAY,wCACZD,EAAMc,OAAS,GACZ,wBACKD,KAGL,qFAIX,C,kMC/DKS,E,MAAWC,GAAAA,OAAa,CAC5BC,QAAS,+BACTC,OAAQ,CACNC,QAAS,sCAIAC,EAAa,mCAAG,sGACJL,EAASM,IAAI,wBADT,uBACnBC,EADmB,EACnBA,KADmB,kBAEpBA,GAFoB,2CAAH,qDAKbC,EAAY,mCAAG,WAAMT,GAAN,yFACHC,EAASM,IAAT,iBAAuBP,GAAM,CAClDI,OAAQ,CACNM,SAAU,aAHY,uBAClBF,EADkB,EAClBA,KADkB,kBAMnBA,GANmB,2CAAH,sDASZG,EAAgB,mCAAG,WAAOC,GAAP,8FAAcC,EAAd,+BAAqB,EAArB,SACPZ,EAASM,IAAT,gBAA8B,CACnDH,OAAQ,CACNS,KAAAA,EACAH,SAAU,UACVI,eAAe,EACfF,MAAAA,KAN0B,uBACtBJ,EADsB,EACtBA,KADsB,kBASvBA,GATuB,2CAAH,sDAYhBO,EAAe,mCAAG,WAAMf,GAAN,yFACNC,EAASM,IAAT,iBAAuBP,EAAvB,aADM,uBACrBQ,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,sDAKfpB,EAAe,mCAAG,WAAMY,GAAN,yFACNC,EAASM,IAAT,iBAAuBP,EAAvB,aADM,uBACrBQ,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,qD","sources":["webpack://react-homework-template/./src/components/Reviews/reviews.module.css?5c8c","components/Reviews/Reviews.jsx","components/service/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"reviews_item__boRvd\",\"author\":\"reviews_author__URyxt\"};","import { useEffect, useState } from \"react\"\nimport { getMovieReviews } from \"../service/Api\";\nimport { useParams } from \"react-router-dom\";\nimport s from './reviews.module.css'\nconst Views = () => {\n    const [reviews, setReviews] = useState({\n    items: [],\n    isLoading: false,\n    error: null,\n    })\n\n\n    const {filmID} = useParams()\n\n\n    useEffect(() => {\n    const cast = async () => {\n        const {results}  = await getMovieReviews(filmID);\n        setReviews(prevMovies => ({\n            ...prevMovies,\n            isLoading: true,})\n        )\n        try {\n            setReviews(prevMovies => ({\n                ...prevMovies,\n                items: results,\n                isLoading: false,})\n            )\n        } catch (error) {\n            setReviews(prevMovies => ({\n                ...prevMovies,\n                error: error.message,\n                isLoading: false,\n            }));\n        }};\n    cast();\n    }, [filmID]);\n\n\n    const {items, isLoading, error} = reviews\n    \n\n    const element = !items.length ?\n        <li><h2>Not Found</h2></li> :\n        items.map(view => {\n    return <li className={s.item} key={view.id}>\n                <p className={s.content}>{view.content}</p>\n                <h2 className={s.author}>Author: {view.author}</h2> \n            </li>\n    })\n\n\n    return (\n        <>\n        {error && <p>{error}</p>}\n        {isLoading&& <p>isLoading...</p>}\n        {items.length > 0 ? \n            <ul >\n                {element}\n            </ul>\n            :\n            <p>We not have reviewsðŸ˜“ðŸ˜“ðŸ˜­</p>\n        }\n        </>\n    )\n}\nexport default Views","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: '48e59f58a9185405f58e5b1089c8261f',\n  },\n});\n\nexport const popularMovies = async () => {\n  const { data } = await instance.get('/trending/movie/week');\n  return data;\n};\n\nexport const getMovieInfo = async id => {\n  const { data } = await instance.get(`/movie/${id}`, {\n    params: {\n      language: 'en - US',\n    },\n  });\n  return data;\n};\n\nexport const searchFilmByName = async (query, page = 1) => {\n  const { data } = await instance.get(`/search/movie`, {\n    params: {\n      page,\n      language: 'en - US',\n      include_adult: false,\n      query,\n    },\n  });\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n"],"names":["useState","items","isLoading","error","reviews","setReviews","filmID","useParams","useEffect","cast","getMovieReviews","results","prevMovies","message","element","length","map","view","className","s","content","author","id","instance","axios","baseURL","params","api_key","popularMovies","get","data","getMovieInfo","language","searchFilmByName","query","page","include_adult","getMovieCredits"],"sourceRoot":""}